<ion-header>
  <ion-toolbar>
    <app-navigation></app-navigation>
  </ion-toolbar>
  <ion-item lines="none">
    <ion-title style="text-align: right">Hola {{ firstName }}</ion-title>
  </ion-item>
  <ion-item lines="none">
    <ion-title>Lista de Proyectos Asignados</ion-title>
  </ion-item>
</ion-header>
<ion-content class="safe-area-inset-bottom">
  <ion-card>
    <ion-card-header>
      <ion-input
        placeholder="Ingrese el nombre del proyecto"
        [(ngModel)]="filterProjectName"
        type="text"
        clearInput
      >
      </ion-input>
    </ion-card-header>
    @if (projects.length > 0) {
    <ion-list>
      @for (project of filteredProjects; track project) {
      <ion-item>
        <ion-label>
          <h2>
            <a (click)="viewProjectDetails(project)" class="linkproyect">
              <span class="project">{{ project.projectName }}</span>
            </a>
          </h2>
          <p>{{ project.projectDescription }}</p>
          <p>
            <strong>Fecha de inicio:</strong> {{ project.startDate | date : "dd/MM/yyyy" }}
          </p>
          <p>
            <strong>Fecha de finalización:</strong> {{ project.endDate | date : "dd/MM/yyyy" }}
          </p>
          <p>
            <strong>Ubicación:</strong> {{ project.cityName }},
            {{ project.provinceName }}
          </p>
          <p>
            <strong>Tipo de proyecto:</strong>
            {{ project.projectType }}
          </p>
        </ion-label>
      </ion-item>
      }
    </ion-list>
    } @else {
    <ion-item>
      <ion-label>Aún no has sido asignado a ningún proyecto</ion-label>
    </ion-item>
    }
  </ion-card>
</ion-content>
